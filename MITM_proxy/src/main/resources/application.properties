# Server configuration
server.port=8080
server.address=0.0.0.0

# Netty server for direct file uploads (bypassing Spring)
netty.port=8081

# Enable CORS
spring.mvc.cors.allowed-origins=*
spring.mvc.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.mvc.cors.allowed-headers=*

# Logging configuration
logging.level.org.example=INFO
logging.level.org.springframework=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n 

# Multipart configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=-1
spring.servlet.multipart.max-request-size=-1
spring.servlet.multipart.file-size-threshold=2KB
spring.servlet.multipart.location=${java.io.tmpdir}

# Tomcat configuration for large file uploads
server.tomcat.max-http-form-post-size=10GB
server.tomcat.max-swallow-size=10GB
server.tomcat.max-http-header-size=65536
server.tomcat.connection-timeout=300000
server.tomcat.max-threads=200
server.tomcat.min-spare-threads=10
server.tomcat.max-connections=10000
server.tomcat.accept-count=500
server.tomcat.processor-cache=500

# Disable request timeouts for large file uploads
spring.mvc.async.request-timeout=7200000

# Servlet configuration for raw input streams
server.tomcat.max-save-post-size=-1
server.tomcat.relaxed-query-chars=|,{,},[,]
server.tomcat.relaxed-path-chars=|,{,},[,]
spring.mvc.servlet.load-on-startup=1

# GlusterFS configuration
gluster.mountPoint=/data/gluster/gv0
gluster.host=localhost
gluster.volume=gv0

# HDFS configuration
hdfs.namenode.url=hdfs://172.30.6.149:9000
hdfs.user.name=cloud-user
hdfs.base.path=/user/cloud-user/mitm-proxy
hdfs.replication=2
hdfs.block.size=134217728
hdfs.namenode.dir=file:///home/cloud-user/hadoopdata/hdfs/namenode
hdfs.datanode.dir=file:///home/cloud-user/hadoopdata/hdfs/datanode

# HDFS Remote Access Configuration
hdfs.remote.enabled=true
hdfs.remote.host=172.30.6.149
hdfs.remote.port=22
hdfs.remote.user=cloud-user
hdfs.remote.key.path=/home/ubuntu/.ssh/id_rsa_mitm_proxy
hdfs.remote.temp.dir=/tmp/mitm-proxy

# Storage type selection (glusterfs or hdfs)
#storage.type=hdfs
storage.type=glusterfs

# Metrics configuration
metrics.history.size=1000
metrics.update.interval=5000